> [!tip]  同物两表
> 如果我们可以对同一个对象用两种不同的方式表达，并且可以通过某种处理使得不同表达经过处理以后相等，得到$A=B$。其中$A$端的形式很容易，$B$端的形式困难但包含我们想要的目标形式，那么通过这个等式，我们便得到了目标形式的简单表达。

#### 1 结合欧拉公式的求和

> [!tip] 想法1.1
> 这条路径是认识到$z\in \mathbb{T}$然后如果和$\sum_k a_kz^k$的形式或者性质比较简单，那么通过欧拉公式$e^{i\theta}=\cos(\theta)+i\sin(\theta)$，我们可以通过对$\sum_k a_kz^k$取实部或虚部，从而得到关于三角函数的和的性质。


> [!example] 例子1.2 
> 假设我们想要知道$\sum_{k=0}^{n}\cos(k\theta)$的简单表达式。
> 
> 欧拉公式告诉我们$$e^{ik\theta}=\cos(k\theta)+i\sin(k\theta)$$这个式子左边的和因为是等比序列求和所以很容易，右边的和困难，但包含我们想要的结果。两边求和以后得到$$\frac{1-e^{i(n+1)\theta}}{1-e^{i\theta}}=\sum_{k=0}^{n}\cos(k\theta)+i\sin(k\theta)$$那么两边取实部便可以得到我们想要的表达式了，即$$\frac{\sin((n+1)\theta/2)\cos(n\theta/2)}{\sin(\theta/2)}=\sum_{k=0}^{n}\cos(k\theta)$$


当然例子远不仅止步于此：
* 比如说$\sum_{k\geq 0} r^k z^k=\frac{1}{1-rz}$那么就可以导出$$\sum_{k\geq 0}r^k \cos(k\theta)=\frac{1-r\cos(\theta)}{1-2r\cos(\theta)+r^2}$$

$$F(x)=\frac{1}{2}\log^2(x)+2\gamma\log(x)+\gamma^2-2\gamma_1+O\left(\frac{1}{\sqrt{x}}\right)$$
### 2. 求导数 

#### 2.1 有时候求留数比求导数更简单

> [!tip] 想法2.1.1
> 对于亚纯函数$F(z)$而言，求其在$z=0$处的高阶导数（$z=0$并非其极点），根据Cauchy积分公式无非就是计算$$a_n:=\frac{F^{(n)}(0)}{n!}=\frac{1}{2\pi i }\int_{|z|=r}\frac{F(z)}{z^{n+1}}\,dz$$但是这个积分未必容易计算，但如果$G(z):=\frac{F(z)}{z^{n+1}}$满足：
> 1. $G(z)$的非零极点对应的留数容易计算。
> 2. $G(z)\to 0$当$z\to \infty$。
> 那么我们可以对足够大的$R$，使用留数定理$$\int_{|z|=R}G(z)\,dz=\int_{|z|=r}G(z)\,dz+2\pi i \sum_{\rho\neq 0}\text{Res}_{z=\rho} G(z)$$其中$r$足够小，以至于不包含任何$F(z)$的极点。那么令$R\to \infty$我们便可以得到$$a_n=-\sum_{\rho\neq 0}\text{Res}_{z=\rho} G(z)=-\sum_{\rho\neq 0}\text{Res}_{z=\rho} \frac{F(z)}{z^{n+1}}$$

那么什么样的函数$F$是符合以上的要求的呢？

首先相当一部分有理函数是符合的，比如：

> [!example] 例子2.1.2
> 令$$F(z):=\frac{P(z)}{Q(z)}=\frac{1}{1-z-z^2}$$根据上面的分析实际上要算的就是多项式$Q$在圆盘内的零点，由于$Q$在整个复平面上只有两个单根，于是$$\text{Res}_{z=\rho}G(z)=\lim_{z\to \rho} \frac{(z-\rho)P(z)}{Q(z)z^{n+1}}=\frac{P(\rho)}{Q'(\rho)\rho^{n+1}}$$把$\rho$分别替换为$Q(z)=1-z-z^2$的两个根，于是我们得到$$a_n=-\sum_{Q(\rho)=0,\rho\neq 0}\frac{P(\rho)}{Q'(\rho)\rho^{n+1}}=\frac{1}{\sqrt{5}}(\phi^n-\psi^n)$$




