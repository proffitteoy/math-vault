---
obsidian-note-status:
  - colorful:completed
---

> [!tip] 底乘以高
> 1. **积分版本(上界)**:在测度空间$(X,\mathcal{F},\mu)$上的某个有限测度的集合$E$上对上界为$M$的函数$f$求积分，那么一个非常粗略的积分估计就是$$\left|\int_{E}f\,d\mu\right|\leq \int_{E}\left|f\right|\,d\mu\leq M\mu(E)$$
> 2. **积分版本(下界)**:在测度空间$(X,\mathcal{F},\mu)$上的某个有限测度的集合$E$上对有下界为$M$的非负函数$f$求积分，那么一个非常粗略的积分估计就是$$\int_{E}f\,d\mu \geq M\mu(E)$$
> 3. **求和版本**: 如果被求和函数$a_n$在整数的某个有限子集$E$上求和，并且有上界$M$，那么$$\left|\sum_{n\in E} a_n \right| \leq M |E| $$实际上求和版本不过是把积分版本的测度换成了特殊的counting measure.于是同样的如果被求和是非负的对象，那么也有类似的下界估计。

这当然是一个非常粗糙的估计，但也是很多估计的思路的出发点。

我们的想法非常简单，根据"误差 = 底 $\times$ 高"的想法，我们**如果想要更高的估计精度**，那么就**给更"长"的底分配更“矮”的高，给更"短"的底分配更"高"的高**，如此一来整体误差就能变小。

下面这个算术题目能给我们足够的启发，以帮助我们理解。

> [!example] 例子1：一个比喻
> 现在有两组数$\text{B}:=\{1,2,3\},\text{H}:=\{4,5,6\}$,我们现在需要给$A,B$这两个集合一个排序，使得形成一个序列$b_1,b_2,b_3$以及$h_1,h_2,h_3$使得$$b_1h_1+b_2h_2+b_3h_3$$最小。

我们这里把“底”比作集合B,而"高"比作集合A,那么最后的那个需要最小化的求和实际上就是"误差 = 底 $\times$ 高"。为了使得它最小化，我们需要给最大的b,配备最小的h,最小的b配备最大的h.其实这就是排序不等式的结果。

那么如何实现这种"错位"的配对呢？**分段估计**。
### 1. 简单分段估计

#### 1.1 赋范数空间上的简单分段

> [!tip] 简单分段估计的抽象
> 1. 我们要对一个积分$\int_{E}f\,d\mu$做估计，但是直接用"底乘高"即$\mu(E)M$太粗糙了，基本很难得到有价值的结果。
> 2. 我们发现$f$在集合$E$的两个子集$E_1,E_2$上有两种不同的特性出现，为了让估计误差更小，于是做$$\int_{E}\left|f\right|\,d\mu \leq \int_{E_1}\left|f\right|\,d\mu +\int_{E_2}\left|f\right|\,d\mu $$这样的分段处理。我们会对每一段用针对性的手法进行估计，也就是所谓的"**分而治之**"。

函数列的积分(和)也会用到分段估计

> [!tip] 分段估计在函数收敛上的运用
> 如果我们想要估计$\int_E |f_n(x)|\,d\mu(x)$的上界,然后我们发现当$x\in E_n$的时候，$|f_n(x)|<M_n$(当然$M_n$也可能是一个常数),而剩下的部分又可以很好的被控制起来，那么此时可以尝试用分段估计提升估计精度。
> 1. 如果$f_n$是$L^p$的序列，那么$$\begin{aligned}\int_E |f_n(x)|\,d\mu(x)&\leq \int_{E_n}*+\int_{E\setminus E_n}* \\ &\leq M_n\mu(E)+\frac{||f_n||_{L^p}}{M_n^p}\end{aligned}$$
> 2. 如果$|f_n|<M$是有界的函数列，那么尾部也可以用有界性结合$\mu(E\setminus E_n)$来控制。



#### 1.3 在奇点附近分段

> [!tip] 想法1.4.1
> 这种一般出现在含参数的和或者积分的估计问题当中，特别是需要求含参数和或者积分的极限的问题。假设$$I_n:=\int_E f_n(x)\,dx$$然后$f_n(x)$在$E$上存在一个奇点$x_0\in E$，其余部分$f_n$有界，并且除去奇点以外$f_n(x)\to 0$。也就是说，这个含参数的积分的极限基本由$f_n$在奇点附近的行为决定。于是这个时候我们可以通过对$E$进行划分$$E=U(x_0)\cup (E\setminus U(x_0))$$于是积分估计变成估计$$I_n=\int_{E\setminus U(x_0)}+\int_{U(x_0)}$$两部分。两部分我们需要用不同的方式去估计，从而使得精度尽可能提高。

* 我们需要估计$$I_n:= \int_{0}^{1}\frac{x^n}{1+x}\,dx$$要求最低的估计精度为$o(1/n)$。之所以采用分段估计，是认识到对于任意的$\varepsilon>0$，积分$$n\int_{0}^{1-\varepsilon} \frac{x^n}{1+x}\,dx \to 0$$这是有界收敛定理告诉我们的。这也就意味着，整个$nI_n$大部分的值实际上都集中在靠近于$1$的部分。因此这两部分我们分开处理也是一种自然的想法。我们的计划是考虑一个$1-\varphi(n)$其中$\varphi(n)\to 0$此时：$$nI_n=\int_0^{1-\varphi(n)}\frac{nx^n}{1+x}\,dx+\int_{1-\varphi(n)}^{1} \frac{nx^n}{1+x}\,dx$$我们对这两段用不同的方法进行估计。第一段只需要最简单的逐项估计，而第二段则需要用到基于Taylor展开的逐项估计，最终我们便能得到$I_n$的精度为$O(1/n^2)$级别误差的估计。当然如果我们只需要$o(1/n)$级别的误差，我们只需要分段为$$nI_n = \int_{0}^{1-\varepsilon} \frac{nx^n}{1+x}\,dx +\int_{1-\varepsilon}^1 \frac{nx^n}{1+x}\,dx$$就可以了。其中第一段由于有界收敛所以为$o(1)$，我们只需要估计第二段并得到$\frac{1}{2}+o(1)$的结果即可。当然因为这样牺牲了精度，估计所需要克服的困难也下降许多。（一般初等分析的考试中，这种精度的问题更为常见，要求得到$O(1/n^2)$这种精确的余项的情况较为少见。）



