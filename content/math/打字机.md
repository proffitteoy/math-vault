---
obsidian-note-status:
  - colorful:completed
---

打字机序列是实分析中用于辨析**收敛模式**差异的经典反例。
>[!tip]
>其核心直觉在于：函数列的“能量”（$L^p$ 范数）可以随着支撑集的测度减小而趋于零，但支撑集本身可以在定义域内无限次地“循环扫描”。
>
>这揭示了测度论中的一个深刻事实：**平均意义下的收敛（$L^p$ 收敛）并不蕴含个体意义下的收敛（逐点收敛或几乎处处收敛）。** 这种现象类似于打字机的机头，虽然每次敲击的范围（区间长度）越来越窄，但它周而复始地扫过整个纸面，导致纸面上任意一点都会被无限次地“击中”。

### 1. 定义与命题

>[!定义]
>**打字机序列 (Typewriter Sequence)**
>
>考虑定义在概率空间 $([0,1], \mathcal{B}, m)$ 上的函数列 $\{f_n\}_{n=1}^{\infty}$。
>对于任意整数 $n \in \mathbb{N}$，存在唯一的整数对 $(k, j)$ 满足 $n = 2^k + j$，其中 $k \ge 0$ 且 $0 \le j < 2^k$。
>
>定义 $f_n$ 为以下区间的特征函数（Indicator Function）：
>$$ f_n(x) = \mathbf{1}_{E_n}(x), \quad \text{其中 } E_n = \left[ \frac{j}{2^k}, \frac{j+1}{2^k} \right] $$
>这里 $k$ 称为“代数” (generation)，$j$ 称为该代中的“位置” (position)。


之所以比喻为打字机，是因为固定好某个k，我们可以把闭区间$[0,1]$均匀分为$2^k$份，每个闭区间形如$$\left[\frac{n-2^k}{2^k},
\frac{n-2^k+1}{2^k}\right]$$每个区间长度都为$\frac{1}{2^k}$。现在让n动起来，当$n=1$的时候函数列为$1_{\left[0, \frac{1}{2^k}\right]}$，也就是区间$[0,\frac{1}{2^k}]$这个闭区间的特征函数，恰好是所有$2^k$个闭区间当中最左边的一个。当$n=2^{k+1}-1$的时候，从左往右移动直到$1_{\left[1-\frac{1}{2^k}, 1\right]}$ ,等到$k$变成$k+1$的时候序列重复一遍从$1_{\left[0, \frac{1}{2^{k+1}}\right]}$到$动直到$1_{\left[1-\frac{1}{2^{k+1}}, 1\right]}$的过程，就像打字机每一次从左边运动到右边然后换行一样，周而复始。

也就是说在定义$f_n(x)$这个序列的时候，$n$应该是要遍历从$1$开始的每一个自然数。不过对于这个序列，我们是分组定义$f_n(x)$。在固定好$k$以后的每一组$2^k \leqslant n <2^{k+1}$范围内，函数列定义为$f_n(x) = 1_{\left[\frac{n-2^k}{2^k},\frac{n-2^k+1}{2^k}\right]}$。

>[!定理]
>**收敛性命题**
>
>函数列 $\{f_n\}$ 满足以下性质：
>1.  **$L^p$ 收敛**：对于任意 $1 \le p < \infty$，有 $\lim_{n \to \infty} \|f_n\|_{L^p} = 0$。
>2.  **处处发散**：对于任意 $x \in [0,1]$，序列 $\{f_n(x)\}$ 均不收敛。即 $\{f_n\}$ 甚至不是几乎处处 (a.e.) 收敛到 0 的。

---

### 2. 证明

#### 2.1 $L^p$ 范数的收敛性
我们需要证明函数列在积分意义下趋于 0。

 **计算 $L^p$ 范数**
根据定义，$f_n$ 是特征函数，其值仅为 0 或 1。因此 $|f_n(x)|^p = f_n(x)$。
$$ \|f_n\|_{L^p} = \left( \int_0^1 |f_n(x)|^p \, dx \right)^{1/p} = \left( \int_0^1 \mathbf{1}_{E_n}(x) \, dx \right)^{1/p} = (m(E_n))^{1/p} $$

 **分析测度极限**
由区间构造可知，对于 $n = 2^k + j$，区间 $E_n$ 的勒贝格测度为：
$$ m(E_n) = \frac{1}{2^k} $$
当 $n \to \infty$ 时，其对应的代数 $k = \lfloor \log_2 n \rfloor$ 也趋于无穷大 ($k \to \infty$)。
因此：
$$ \lim_{n \to \infty} \|f_n\|_{L^p} = \lim_{k \to \infty} \left(\frac{1}{2^k}\right)^{1/p} = 0 $$

#### 2.2 逐点发散性
我们需要证明对于任意固定的 $x_0 \in [0,1]$，极限 $\lim_{n \to \infty} f_n(x_0)$ 不存在。我们将通过证明该序列在 0 和 1 之间无限振荡来完成论证。

 **构造取值为 1 的子序列 (覆盖性)**
*   固定任意 $x_0 \in [0,1]$。
*   考虑任意一代 $k \ge 0$。由于第 $k$ 代的区间族 $\mathcal{E}_k = \{ [\frac{j}{2^k}, \frac{j+1}{2^k}] \}_{j=0}^{2^k-1}$ 构成了 $[0,1]$ 的一个覆盖（除有限个端点外是分割，端点处可能有重叠，但这保证了覆盖性）。
*   必然存在某个 $j_k \in \{0, \dots, 2^k-1\}$，使得 $x_0 \in E_{n_k}$，其中 $n_k = 2^k + j_k$。
*   这意味着对于每一个 $k$，都存在一个对应的 $n_k$，使得 $f_{n_k}(x_0) = 1$。
*   由此构造出子序列 $\{f_{n_k}(x_0)\}_{k=1}^{\infty}$，其所有项均为 1。
*   故上极限 $\limsup_{n \to \infty} f_n(x_0) = 1$。

**构造取值为 0 的子序列 (稀疏性)**
*   继续固定 $x_0$。
*   在第 $k$ 代中，共有 $2^k$ 个区间。$x_0$ 最多属于其中 2 个区间（若 $x_0$ 恰为二进分点），通常只属于 1 个。
*   这意味着在第 $k$ 代对应的所有 $n$ 值中（共 $2^k$ 个），绝大多数 $n$ 满足 $x_0 \notin E_n$，即 $f_n(x_0) = 0$。
*   随着 $k \to \infty$，不包含 $x_0$ 的区间数量趋于无穷。我们可以轻易找到无穷多个 $n$，使得 $f_n(x_0) = 0$。
*   故下极限 $\liminf_{n \to \infty} f_n(x_0) = 0$。
